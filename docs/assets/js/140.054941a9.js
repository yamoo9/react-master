(window.webpackJsonp=window.webpackJsonp||[]).push([[140],{391:function(s,t,a){"use strict";a.r(t);var n=a(12),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"firestore-á„‰á…¡á„‹á…­á†¼á„Œá…¡-á„‘á…³á„…á…©á„‘á…µá†¯-á„‰á…¢á†¼á„‰á…¥á†¼-ğŸ’°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#firestore-á„‰á…¡á„‹á…­á†¼á„Œá…¡-á„‘á…³á„…á…©á„‘á…µá†¯-á„‰á…¢á†¼á„‰á…¥á†¼-ğŸ’°"}},[s._v("#")]),s._v(" Firestore (ì‚¬ìš©ì í”„ë¡œí•„ ìƒì„±) ğŸ’°")]),s._v(" "),a("p",[s._v("Firebase ë°ì´í„°ë² ì´ìŠ¤(Cloud Firestore) ì‚¬ìš©ë²•ì„ í•™ìŠµí•©ë‹ˆë‹¤.")]),s._v(" "),a("base-img",{attrs:{src:"firebase-cloud-firestore.jpg"}}),s._v(" "),a("h2",{attrs:{id:"firestore-á„ƒá…¦á„‹á…µá„á…¥á„‡á…¦á„‹á…µá„‰á…³-á„‰á…¥á†¯á„Œá…¥á†¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#firestore-á„ƒá…¦á„‹á…µá„á…¥á„‡á…¦á„‹á…µá„‰á…³-á„‰á…¥á†¯á„Œá…¥á†¼"}},[s._v("#")]),s._v(" Firestore ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •")]),s._v(" "),a("p",[s._v("Cloud Firestore ê³„ì¸µ êµ¬ì¡°ëŠ” "),a("strong",[s._v("Collection")]),s._v(" â†’ "),a("strong",[s._v("Document")]),s._v(" â†’ "),a("strong",[s._v("Field")]),s._v("ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.")]),s._v(" "),a("h3",{attrs:{id:"á„á…¥á†¯á„…á…¦á†¨á„‰á…§á†«-á„‰á…¢á†¼á„‰á…¥á†¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#á„á…¥á†¯á„…á…¦á†¨á„‰á…§á†«-á„‰á…¢á†¼á„‰á…¥á†¼"}},[s._v("#")]),s._v(" ì»¬ë ‰ì…˜ ìƒì„±")]),s._v(" "),a("p",[s._v("Cloud Firebase ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •ì„ í†µí•´ ì‚¬ìš©ì ì •ë³´ë¥¼ ì €ì¥ í•  "),a("code",[s._v("users")]),s._v(" ì»¬ë ‰ì…˜(collection)ì„ ì¶”ê°€í•©ë‹ˆë‹¤.")]),s._v(" "),a("base-img",{attrs:{src:"firebase-create-collection.png"}}),s._v(" "),a("h3",{attrs:{id:"á„ƒá…©á„á…²á„†á…¦á†«á„á…³-á„†á…®á†«á„‰á…¥-id-â†’-á„‘á…µá†¯á„ƒá…³-á„‰á…¢á†¼á„‰á…¥á†¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#á„ƒá…©á„á…²á„†á…¦á†«á„á…³-á„†á…®á†«á„‰á…¥-id-â†’-á„‘á…µá†¯á„ƒá…³-á„‰á…¢á†¼á„‰á…¥á†¼"}},[s._v("#")]),s._v(" ë„íë©˜íŠ¸(ë¬¸ì„œ) ID â†’ í•„ë“œ ìƒì„±")]),s._v(" "),a("p",[s._v('ì»¬ë ‰ì…˜ì€ "ë¬¸ì„œì˜ ì§‘í•©"ìœ¼ë¡œ í•˜ìœ„ì— ë¬¸ì„œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê° ë¬¸ì„œëŠ” ì‹ë³„ ê°€ëŠ¥í•œ ê³ ìœ  ID ê°’ì„ ê°€ì ¸ì•¼ í•©ë‹ˆë‹¤.\nê·¸ë¦¬ê³  ë¬¸ì„œì˜ ë°ì´í„°ëŠ” ê° í•„ë“œë¡œ ì €ì¥ë©ë‹ˆë‹¤. Cloud Firestoreì—ì„œ ì§ì ‘ ë°ì´í„° í•„ë“œë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.')]),s._v(" "),a("base-img",{attrs:{src:"firebase-create-document.png"}}),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("ë¬¸ì„œ(Document) ID")]),s._v(" "),a("p",[s._v('ë¬¸ì„œì˜ IDëŠ” ì„ì˜ë¡œ ìƒì„± ê°€ëŠ¥í•˜ì§€ë§Œ, "ì¸ì¦ ì‚¬ìš©ìì˜ ê³ ìœ  ID(uid)" ê°’ì„ ì…ë ¥í•´ ì €ì¥í•©ë‹ˆë‹¤.')]),s._v(" "),a("base-img",{staticStyle:{border:"1px solid #c0c0c0"},attrs:{src:"firebase-user-uid.png"}})],1),s._v(" "),a("h3",{attrs:{id:"á„ƒá…¦á„‹á…µá„á…¥á„‡á…¦á„‹á…µá„‰á…³-á„€á…®á„Œá…©"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#á„ƒá…¦á„‹á…µá„á…¥á„‡á…¦á„‹á…µá„‰á…³-á„€á…®á„Œá…©"}},[s._v("#")]),s._v(" ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°")]),s._v(" "),a("p",[s._v("ì»¬ë ‰ì…˜(collection), ë¬¸ì„œ(document), í•„ë“œ(field) êµ¬ì„±ì´ ì™„ë£Œë˜ë©´ Cloud Firestoreì— ë‹¤ìŒê³¼ ê°™ì´ í‘œì‹œë©ë‹ˆë‹¤.")]),s._v(" "),a("base-img",{staticStyle:{border:"1px solid #c0c0c0"},attrs:{src:"firebase-firestore-structure.png"}}),s._v(" "),a("p",[s._v("ì‘ì„±í•œ Cloud Firestore ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°ë¥¼ JavaScript ê°ì²´ë¡œ í‘œí˜„í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// [ì»¬ë ‰ì…˜] ì¸ì¦ ì‚¬ìš©ì")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"users"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// [ë„íë©˜íŠ¸] ì‚¬ìš©ì UID")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"nkGxEOrO5VchpOUUNXcPjKrQkSp1"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" \n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// [í•„ë“œ] ì‚¬ìš©ì ì •ë³´")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"displayName"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ì•¼ë¬´"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"email"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"yamoog@gmail.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"emailVerified"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"photoURL"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://lh3.googleusercontent.com/a-/AOh14GhgrBSraw=s96-c"')]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h3",{attrs:{id:"á„‹á…µá†·á„‰á…µ-á„†á…®á†«á„‰á…¥-á„Œá…¦á„€á…¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#á„‹á…µá†·á„‰á…µ-á„†á…®á†«á„‰á…¥-á„Œá…¦á„€á…¥"}},[s._v("#")]),s._v(" ì„ì‹œ ë¬¸ì„œ ì œê±°")]),s._v(" "),a("p",[s._v("ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°ë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ ì§ì ‘ ìƒì„±í•œ ì„ì‹œ(dummy) ë¬¸ì„œë¥¼ Users ì»¬ë ‰ì…˜ì—ì„œ ì œê±°í•©ë‹ˆë‹¤.")]),s._v(" "),a("base-img",{staticStyle:{border:"1px solid #c0c0c0"},attrs:{src:"firebase-users-db-clean.png"}}),s._v(" "),a("h2",{attrs:{id:"á„‰á…¡á„‹á…­á†¼á„Œá…¡-á„‘á…³á„…á…©á„‘á…µá†¯-á„‰á…¢á†¼á„‰á…¥á†¼-á„‹á…²á„á…µá†¯á„…á…µá„á…µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#á„‰á…¡á„‹á…­á†¼á„Œá…¡-á„‘á…³á„…á…©á„‘á…µá†¯-á„‰á…¢á†¼á„‰á…¥á†¼-á„‹á…²á„á…µá†¯á„…á…µá„á…µ"}},[s._v("#")]),s._v(" ì‚¬ìš©ì í”„ë¡œí•„ ìƒì„± ìœ í‹¸ë¦¬í‹°")]),s._v(" "),a("p",[s._v("Firebase ì¸ì¦(auth) ì‚¬ìš©ì ì •ë³´ë¥¼ ì „ë‹¬ ë°›ì•„ Firestore ë°ì´í„°ë² ì´ìŠ¤ Users ì»¬ë ‰ì…˜ì— ìƒˆë¡œìš´ ë¬¸ì„œë¥¼ ì €ì¥í•˜ëŠ” ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[s._v("Firestoreì˜ Users ì»¬ë ‰ì…˜ì—ì„œ ë¬¸ì„œë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜, ì¶”ê°€í•˜ëŠ” ë°©ë²•ì€ "),a("a",{attrs:{href:"https://firebase.google.com/docs/firestore/query-data/get-data#get_a_document",target:"_blank",rel:"noopener noreferrer"}},[s._v("ë°ì´í„° ì½ê¸°"),a("OutboundLink")],1),s._v(", "),a("a",{attrs:{href:"https://firebase.google.com/docs/firestore/manage-data/add-data",target:"_blank",rel:"noopener noreferrer"}},[s._v("ë°ì´í„° ì¶”ê°€"),a("OutboundLink")],1),s._v(" ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ê³ í•©ë‹ˆë‹¤.")])]),s._v(" "),a("div",{staticClass:"language-jsx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Firestore ë°ì´í„°ë² ì´ìŠ¤ì— ì¸ì¦ ì‚¬ìš©ì í”„ë¡œí•„ ì €ì¥ ìœ í‹¸ë¦¬í‹°")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("createUserProfile")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" additionalData "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// user ê°’ì´ ì „ë‹¬ë˜ì§€ ì•Šì„ ê²½ìš° ì˜¤ë¥˜ ì¶œë ¥")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"createUserProfile ìœ í‹¸ë¦¬í‹°ì— user ê°’ì´ ì „ë‹¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤."')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Firestore Users ì»¬ë ‰ì…˜ë¡œìœ¼ë¶€í„° ì‚¬ìš©ì(ë¬¸ì„œ ID) ì°¸ì¡°")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ì•„ë˜ ì‘ì„±ëœ êµ¬ë¬¸ì€ db.collection('Users').doc(user.uid) ì™€ ë™ì¼í•©ë‹ˆë‹¤.")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" userRef "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" db"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("doc")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("Users/")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("${")]),s._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("uid"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[s._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[s._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// userRef ì°¸ì¡°ë¡œë¶€í„° ìŠ¤ëƒ…ìƒ· ê°€ì ¸ì˜¤ê¸° (ëŒ€ê¸°...)")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" snapshot "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" userRef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ìŠ¤ëƒ…ìƒ· exists ì†ì„± í™•ì¸ (ì¡´ì¬ ìœ ë¬´ íŒŒì•…)")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ì¡´ì¬í•˜ì§€ ì•Šì„ ê²½ìš°, ë°ì´í„°ë² ì´ìŠ¤ì— ì¸ì¦ ì‚¬ìš©ì í”„ë¡œí•„ ì €ì¥")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("snapshot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exists"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ì €ì¥í•  ì‚¬ìš©ì ì •ë³´ ì¶”ì¶œ")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" displayName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" email"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" emailVerified"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" photoURL "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" user\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ìƒì„± ë‚ ì§œ")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" createdAt "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ë°ì´í„°ë² ì´ìŠ¤ì— ìƒˆë¡œìš´ ì¸ì¦ ì‚¬ìš©ì í”„ë¡œí•„ ì €ì¥")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" userRef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        displayName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        email"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        emailVerified"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        photoURL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        createdAt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("additionalData\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ì˜¤ë¥˜ ë°œìƒ ì‹œ, ì˜¤ë¥˜ ë©”ì‹œì§€ ì¶œë ¥")]),s._v("\n      console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ì‚¬ìš©ì ì°¸ì¡° ë°˜í™˜")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" userRef\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br")])]),a("p",[s._v("ë¼ì´ë¸Œ ì˜ˆì œ")]),s._v(" "),a("iframe",{staticStyle:{width:"100%",height:"500px",border:"0","border-radius":"4px",overflow:"hidden"},attrs:{src:"https://codesandbox.io/embed/injeung-sayongja-peuropil-deiteobeiseu-jeojang-d550f?autoresize=1&fontsize=14&hidenavigation=1&module=%2Fsrc%2FApp.js&theme=dark",title:"ì¸ì¦ ì‚¬ìš©ì í”„ë¡œí•„ â†’ ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}}),s._v(" "),a("h2",{attrs:{id:"currentuser-á„‰á…¡á†¼á„á…¢-á„‹á…¥á†¸á„ƒá…¦á„‹á…µá„á…³"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#currentuser-á„‰á…¡á†¼á„á…¢-á„‹á…¥á†¸á„ƒá…¦á„‹á…µá„á…³"}},[s._v("#")]),s._v(" currentUser ìƒíƒœ ì—…ë°ì´íŠ¸")]),s._v(" "),a("p",[s._v("Firestoreì— ìƒì„±ëœ ì‚¬ìš©ì í”„ë¡œí•„ì„ ê°€ì ¸ì™€ ì»´í¬ë„ŒíŠ¸ì˜ "),a("code",[s._v("currentUser")]),s._v(" ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸ í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[s._v("Firestoreì˜ Users ì»¬ë ‰ì…˜ì—ì„œ "),a("a",{attrs:{href:"https://firebase.google.com/docs/firestore/query-data/listen?hl=ko#node.js_2",target:"_blank",rel:"noopener noreferrer"}},[s._v("ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ ê°€ì ¸ì˜¤ê¸°"),a("OutboundLink")],1),s._v(" ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ê³ í•©ë‹ˆë‹¤.")])]),s._v(" "),a("div",{staticClass:"language-jsx line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v("Â ")]),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v("Â ")]),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v("Â ")]),a("div",{staticClass:"highlighted"},[s._v("Â ")]),a("div",{staticClass:"highlighted"},[s._v("Â ")]),a("div",{staticClass:"highlighted"},[s._v("Â ")]),a("div",{staticClass:"highlighted"},[s._v("Â ")]),a("div",{staticClass:"highlighted"},[s._v("Â ")]),a("div",{staticClass:"highlighted"},[s._v("Â ")]),a("div",{staticClass:"highlighted"},[s._v("Â ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("currentUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" setCurrentUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" React"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nReact"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useEffect")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" unsubscribe "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" auth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("onAuthStateChanged")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("currentUser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ì¸ì¦ ì‚¬ìš©ì ì •ë³´ê°€ ìˆë‹¤ë©´")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("currentUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// createUserProfile ìœ í‹¸ë¦¬í‹°ì˜ ë°˜í™˜ ê°’(ì‚¬ìš©ì ì°¸ì¡°, Promise ê°ì²´)")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" userRef "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("createUserProfile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("currentUser"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ì‚¬ìš©ì ì°¸ì¡°ì˜ ìŠ¤ëƒ…ìƒ·ì„ ê°€ì ¸ì™€")]),s._v("\n      userRef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("onSnapshot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("snapshot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ì»´í¬ë„ŒíŠ¸ ìƒíƒœ ì—…ë°ì´íŠ¸")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setCurrentUser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ìŠ¤ëƒ…ìƒ·ì˜ ID (=== ì¸ì¦ ì‚¬ìš©ìì˜ uid)")]),s._v("\n          id"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" snapshot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ìŠ¤ëƒ…ìƒ· ë°ì´í„° ì „ê°œ (ê°ì²´ í•©ì„±)")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("snapshot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setCurrentUser")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("unsubscribe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br")])]),a("p",[s._v("ë¼ì´ë¸Œ ì˜ˆì œ")]),s._v(" "),a("iframe",{staticStyle:{width:"100%",height:"500px",border:"0","border-radius":"4px",overflow:"hidden"},attrs:{src:"https://codesandbox.io/embed/keomponeonteu-sangtae-eobdeiteu-sayongja-peuropil-sm81h?autoresize=1&fontsize=14&hidenavigation=1&module=%2Fsrc%2FApp.js&theme=dark",title:"ì»´í¬ë„ŒíŠ¸ ìƒíƒœ ì—…ë°ì´íŠ¸ (ì‚¬ìš©ì í”„ë¡œí•„)",allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"}})],1)}),[],!1,null,null,null);t.default=e.exports}}]);